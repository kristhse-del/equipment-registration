<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Equipment List System</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
        }
        
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }

        button {
            -webkit-tap-highlight-color: transparent;
            user-select: none;
        }

        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #3b82f6;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useRef } = React;

        // üîß ÈáçË¶ÅÔºöË´ãÂú®ÈÄôË£°Â°´ÂÖ•ÊÇ®ÁöÑ Google Apps Script URL
        const GOOGLE_SCRIPT_URL = 'YOUR_GOOGLE_APPS_SCRIPT_URL_HERE';

        // Lucide React Icons (inline SVG)
        const Camera = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path>
                <circle cx="12" cy="13" r="4"></circle>
            </svg>
        );

        const Plus = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <line x1="12" y1="5" x2="12" y2="19"></line>
                <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
        );

        const Edit2 = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>
            </svg>
        );

        const Trash2 = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <polyline points="3 6 5 6 21 6"></polyline>
                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                <line x1="10" y1="11" x2="10" y2="17"></line>
                <line x1="14" y1="11" x2="14" y2="17"></line>
            </svg>
        );

        const X = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
        );

        const Check = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <polyline points="20 6 9 17 4 12"></polyline>
            </svg>
        );

        const Cloud = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"></path>
            </svg>
        );

        const Image = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                <circle cx="8.5" cy="8.5" r="1.5"></circle>
                <polyline points="21 15 16 10 5 21"></polyline>
            </svg>
        );

        const AlertCircle = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="12" y1="8" x2="12" y2="12"></line>
                <line x1="12" y1="16" x2="12.01" y2="16"></line>
            </svg>
        );

        function EquipmentList() {
            const initialEquipmentList = [
                "4-Door Upright Freezer ‚Äî ‡∏ï‡∏π‡πâ‡πÅ‡∏ä‡πà‡πÅ‡∏Ç‡πá‡∏á 4 ‡∏õ‡∏£‡∏∞‡∏ï‡∏π",
                "4-Door Upright Chiller ‚Äî ‡∏ï‡∏π‡πâ‡πÅ‡∏ä‡πà‡πÄ‡∏¢‡πá‡∏ô 4 ‡∏õ‡∏£‡∏∞‡∏ï‡∏π",
                "2-Door Upright Chiller ‚Äî ‡∏ï‡∏π‡πâ‡πÅ‡∏ä‡πà‡πÄ‡∏¢‡πá‡∏ô 2 ‡∏õ‡∏£‡∏∞‡∏ï‡∏π",
                "2-Door Upright Freezer ‚Äî ‡∏ï‡∏π‡πâ‡πÅ‡∏ä‡πà‡πÅ‡∏Ç‡πá‡∏á 2 ‡∏õ‡∏£‡∏∞‡∏ï‡∏π",
                "Counter Freezer (Right Side Open) ‚Äî ‡∏ï‡∏π‡πâ‡πÅ‡∏ä‡πà‡πÅ‡∏Ç‡πá‡∏á‡πÉ‡∏ï‡πâ‡πÄ‡∏Ñ‡∏≤‡∏ô‡πå‡πÄ‡∏ï‡∏≠‡∏£‡πå (‡πÄ‡∏õ‡∏¥‡∏î‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡∏ß‡∏≤)",
                "Counter Freezer (Left Side Open) ‚Äî ‡∏ï‡∏π‡πâ‡πÅ‡∏ä‡πà‡πÅ‡∏Ç‡πá‡∏á‡πÉ‡∏ï‡πâ‡πÄ‡∏Ñ‡∏≤‡∏ô‡πå‡πÄ‡∏ï‡∏≠‡∏£‡πå (‡πÄ‡∏õ‡∏¥‡∏î‡∏î‡πâ‡∏≤‡∏ô‡∏ã‡πâ‡∏≤‡∏¢)",
                "Counter Chiller (Left Side Open) ‚Äî ‡∏ï‡∏π‡πâ‡πÅ‡∏ä‡πà‡πÄ‡∏¢‡πá‡∏ô‡πÉ‡∏ï‡πâ‡πÄ‡∏Ñ‡∏≤‡∏ô‡πå‡πÄ‡∏ï‡∏≠‡∏£‡πå (‡πÄ‡∏õ‡∏¥‡∏î‡∏î‡πâ‡∏≤‡∏ô‡∏ã‡πâ‡∏≤‡∏¢)",
                "Counter Chiller (Right Side Open) ‚Äî ‡∏ï‡∏π‡πâ‡πÅ‡∏ä‡πà‡πÄ‡∏¢‡πá‡∏ô‡πÉ‡∏ï‡πâ‡πÄ‡∏Ñ‡∏≤‡∏ô‡πå‡πÄ‡∏ï‡∏≠‡∏£‡πå (‡πÄ‡∏õ‡∏¥‡∏î‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡∏ß‡∏≤)",
                "Display Counter Chiller (Left Side Open) ‚Äî ‡∏ï‡∏π‡πâ‡πÅ‡∏ä‡πà‡πÇ‡∏ä‡∏ß‡πå (‡πÄ‡∏õ‡∏¥‡∏î‡∏î‡πâ‡∏≤‡∏ô‡∏ã‡πâ‡∏≤‡∏¢)",
                "Display Counter Chiller (Right Side Open) ‚Äî ‡∏ï‡∏π‡πâ‡πÅ‡∏ä‡πà‡πÇ‡∏ä‡∏ß‡πå (‡πÄ‡∏õ‡∏¥‡∏î‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡∏ß‡∏≤)",
                "Work Table 1.5m-‡πÇ‡∏ï‡πä‡∏∞‡∏™‡πÅ‡∏ï‡∏ô‡πÄ‡∏•",
                "Work Table 1.2m-‡πÇ‡∏ï‡πä‡∏∞‡∏™‡πÅ‡∏ï‡∏ô‡πÄ‡∏•",
                "Work Table 1.1m-‡πÇ‡∏ï‡πä‡∏∞‡∏™‡πÅ‡∏ï‡∏ô‡πÄ‡∏•",
                "Work Table 1.0m-‡πÇ‡∏ï‡πä‡∏∞‡∏™‡πÅ‡∏ï‡∏ô‡πÄ‡∏•",
                "Work Table 0.9m-‡πÇ‡∏ï‡πä‡∏∞‡∏™‡πÅ‡∏ï‡∏ô‡πÄ‡∏•",
                "Work Table 0.8m-‡πÇ‡∏ï‡πä‡∏∞‡∏™‡πÅ‡∏ï‡∏ô‡πÄ‡∏•",
                "Work Table 0.7m-‡πÇ‡∏ï‡πä‡∏∞‡∏™‡πÅ‡∏ï‡∏ô‡πÄ‡∏•",
                "Work Table 0.6m-‡πÇ‡∏ï‡πä‡∏∞‡∏™‡πÅ‡∏ï‡∏ô‡πÄ‡∏•",
                "Double Sink+2 Faucets ‚Äî‡∏≠‡πà‡∏≤‡∏á‡∏•‡πâ‡∏≤‡∏á2‡∏ä‡πà‡∏≠‡∏á+‡∏Å‡πä‡∏≠‡∏Å‡∏ô‡πâ‡∏≥2‡∏´‡∏±‡∏ß",
                "Single Sink+1 Faucet ‚Äî ‡∏≠‡πà‡∏≤‡∏á‡∏•‡πâ‡∏≤‡∏á1‡∏ä‡πà‡∏≠‡∏á+‡∏Å‡πä‡∏≠‡∏Å‡∏ô‡πâ‡∏≥1‡∏´‡∏±‡∏ß",
                "Exhaust Hood w/Fresh Air ‚Äî ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏π‡∏î‡∏Ñ‡∏ß‡∏±‡∏ô‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà",
                "Exhaust Hood w/o Fresh Air ‚Äî ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏π‡∏î‡∏Ñ‡∏ß‡∏±‡∏ô‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà",
                "Gas Deep Fryer‚Äî‡∏ï‡∏≤‡∏ó‡∏≠‡∏î‡πÅ‡∏Å‡πä‡∏™",
                "Gas Salamander‚Äî‡πÄ‡∏ï‡∏≤‡∏¢‡πà‡∏≤‡∏á‡πÅ‡∏Å‡πä‡∏™",
                "Gas Pasta Cooker‚Äî‡πÄ‡∏ï‡∏≤‡∏ï‡πâ‡∏°‡∏û‡∏≤‡∏™‡∏ï‡πâ‡∏≤‡πÅ‡∏Å‡πä‡∏™",
                "Electric Deep Fryer‚Äî‡πÄ‡∏ï‡∏≤‡∏ó‡∏≠‡∏î‡πÑ‡∏ü‡∏ü‡πâ‡∏≤",
                "Electric Salamander ‚Äî ‡πÄ‡∏ï‡∏≤‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏ü‡∏ü‡πâ‡∏≤",
                "Electric Pasta Cooker ‚Äî ‡πÄ‡∏ï‡∏≤‡∏ï‡πâ‡∏°‡∏û‡∏≤‡∏™‡∏ï‡πâ‡∏≤‡∏ö‡πÑ‡∏ü‡∏ü‡πâ‡∏≤",
                "6 Bin for Pasta Cooker ‚Äî ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏ï‡πâ‡∏°‡∏û‡∏≤‡∏™‡∏ï‡πâ‡∏≤ 6 ‡∏ä‡πà‡∏≠‡∏á",
                "Equipment Stand for Pasta Cooker ‚Äî ‡∏ä‡∏±‡πâ‡∏ô‡∏ß‡∏≤‡∏á‡πÄ‡∏ï‡∏≤‡∏ï‡πâ‡∏°‡∏û‡∏≤‡∏™‡∏ï‡πâ‡∏≤",
                "Big Grease Trap ‚Äî ‡∏ñ‡∏±‡∏á‡∏î‡∏±‡∏Å‡πÑ‡∏Ç‡∏°‡∏±‡∏ô‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà",
                "Small Grease Trap ‚Äî ‡∏ñ‡∏±‡∏á‡∏î‡∏±‡∏Å‡πÑ‡∏Ç‡∏°‡∏±‡∏ô‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏•‡πá‡∏Å",
                "Ice Bucket (Top Slide) ‚Äî ‡∏ñ‡∏±‡∏á‡∏ô‡πâ‡∏≥‡πÅ‡∏Ç‡πá‡∏á‡πÄ‡∏õ‡∏¥‡∏î‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô",
                "Ice Bucket (Front Slide) ‚Äî ‡∏ñ‡∏±‡∏á‡∏ô‡πâ‡∏≥‡πÅ‡∏Ç‡πá‡∏á‡πÄ‡∏õ‡∏¥‡∏î‡∏î‡πâ‡∏≤‡∏ô‡∏´‡∏ô‡πâ‡∏≤",
                "Ice Cream Freezer ‚Äî ‡∏ï‡∏π‡πâ‡πÅ‡∏ä‡πà‡πÑ‡∏≠‡∏®‡∏Å‡∏£‡∏µ‡∏°",
                "Equipment Stand for Ice Bucket & Ice Cream Freezer ‚Äî ‡∏ä‡∏±‡πâ‡∏ô‡∏ß‡∏≤‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ñ‡∏±‡∏á‡∏ô‡πâ‡∏≥‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏•‡∏∞‡∏ï‡∏π‡πâ‡πÅ‡∏ä‡πà‡πÑ‡∏≠‡∏®‡∏Å‡∏£‡∏µ‡∏°",
                "Dish Washer (Up-Down) ‚Äî ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏•‡πâ‡∏≤‡∏á‡∏à‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö‡∏Ç‡∏∂‡πâ‡∏ô‡∏•‡∏á",
                "Dish Washer (TW-Imported) ‚Äî ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏•‡πâ‡∏≤‡∏á‡∏à‡∏≤‡∏ô‡∏ô‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤‡∏à‡∏≤‡∏Å‡πÑ‡∏ï‡πâ‡∏´‡∏ß‡∏±‡∏ô",
                "Ventilation Hood ‚Äî ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏π‡∏î‡∏≠‡∏≤‡∏Å‡∏≤‡∏®",
                "Equipment Stand for Locker ‚Äî ‡∏ä‡∏±‡πâ‡∏ô‡∏ß‡∏≤‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏π‡πâ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡∏≠‡∏á",
                "Locker ‚Äî ‡∏ï‡∏π‡πâ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡∏≠‡∏á",
                "Knife Stand ‚Äî ‡∏ó‡∏µ‡πà‡∏ß‡∏≤‡∏á‡∏°‡∏µ‡∏î",
                "Trolley for 7 Baskets ‚Äî ‡∏ä‡∏±‡πâ‡∏ô‡∏ß‡∏≤‡∏á 7 ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤",
                "Trolley for 3 Baskets ‚Äî ‡∏ä‡∏±‡πâ‡∏ô‡∏ß‡∏≤‡∏á 3 ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤",
                "Trolley for Service Tray ‚Äî ‡∏ä‡∏±‡πâ‡∏ô‡∏ß‡∏≤‡∏á‡∏ñ‡∏≤‡∏î side dish",
                "Induction Cooker ‚Äî ‡πÄ‡∏ï‡∏≤‡πÅ‡∏°‡πà‡πÄ‡∏´‡∏•‡πá‡∏Å‡πÑ‡∏ü‡∏ü‡πâ‡∏≤",
                "Steamed Cooker ‚Äî ‡∏´‡∏°‡πâ‡∏≠‡∏ô‡∏∂‡πà‡∏á",
                "Wall Shelf 1.5m-‡∏ä‡∏±‡πâ‡∏ô‡∏•‡∏≠‡∏¢‡∏ï‡∏¥‡∏î‡∏ú‡∏ô‡∏±‡∏á",
                "Wall Shelf 1.2m-‡∏ä‡∏±‡πâ‡∏ô‡∏•‡∏≠‡∏¢‡∏ï‡∏¥‡∏î‡∏ú‡∏ô‡∏±‡∏á",
                "Wall Shelf 1.0m-‡∏ä‡∏±‡πâ‡∏ô‡∏•‡∏≠‡∏¢‡∏ï‡∏¥‡∏î‡∏ú‡∏ô‡∏±‡∏á",
                "Wall Shelf 0.9m-‡∏ä‡∏±‡πâ‡∏ô‡∏•‡∏≠‡∏¢‡∏ï‡∏¥‡∏î‡∏ú‡∏ô‡∏±‡∏á",
                "Wall Shelf 0.8m-‡∏ä‡∏±‡πâ‡∏ô‡∏•‡∏≠‡∏¢‡∏ï‡∏¥‡∏î‡∏ú‡∏ô‡∏±‡∏á",
                "Wall Shelf 0.7m ‡∏ä‡∏±‡πâ‡∏ô‡∏•‡∏≠‡∏¢‡∏ï‡∏¥‡∏î‡∏ú‡∏ô‡∏±‡∏á",
                "Wall Shelf for Grilled Pan ‚Äî ‡∏ä‡∏±‡πâ‡∏ô‡∏•‡∏≠‡∏¢‡∏ï‡∏¥‡∏î‡∏ú‡∏ô‡∏±‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏£‡∏∞‡∏ó‡∏∞‡∏¢‡πà‡∏≤‡∏á",
                "Over High Shelf for Bottles ‚Äî ‡∏ä‡∏±‡πâ‡∏ô‡∏ß‡∏≤‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ç‡∏ß‡∏î",
                "Sushi Tray Shelf ‚Äî ‡∏ä‡∏±‡πâ‡∏ô‡∏ß‡∏≤‡∏á‡∏ñ‡∏≤‡∏î‡∏ã‡∏π‡∏ä‡∏¥",
                "Cup Dryer (TW-Imported) ‚Äî ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏ö‡πÅ‡∏Å‡πâ‡∏ß (‡∏ô‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤‡∏à‡∏≤‡∏Å‡πÑ‡∏ï‡πâ‡∏´‡∏ß‡∏±‡∏ô)",
                "Pepsi Fountain ‚Äî ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏≠‡∏±‡∏î‡∏•‡∏° Pepsi",
                "Pepsi Fridge ‚Äî ‡∏ï‡∏π‡πâ‡πÅ‡∏ä‡πà‡πÄ‡∏¢‡πá‡∏ô Pepsi",
                "Double Over High Shelf 1.5m-‡∏ä‡∏±‡πâ‡∏ô‡∏ß‡∏≤‡∏á‡∏™‡∏π‡∏á‡∏™‡∏≠‡∏á‡∏ä‡∏±‡πâ‡∏ô‡∏ö‡∏ô‡πÇ‡∏ï‡πä‡∏∞",
                "Double Over High Shelf 1.2m ‚Äî‡∏ä‡∏±‡πâ‡∏ô‡∏ß‡∏≤‡∏á‡∏™‡∏π‡∏á‡∏™‡∏≠‡∏á‡∏ä‡∏±‡πâ‡∏ô‡∏ö‡∏ô‡πÇ‡∏ï‡πä‡∏∞"
            ];

            const [formData, setFormData] = useState({
                store: '',
                date: new Date().toISOString().split('T')[0],
                equipment: '',
                equipmentCode: '',
                equipmentSize: '',
                quantity: '',
                photo: null,
                notes: ''
            });

            const [equipmentList, setEquipmentList] = useState(initialEquipmentList);
            const [showManageEquipment, setShowManageEquipment] = useState(false);
            const [newEquipment, setNewEquipment] = useState('');
            const [editingIndex, setEditingIndex] = useState(null);
            const [editingValue, setEditingValue] = useState('');
            const [photoPreview, setPhotoPreview] = useState(null);
            const [photoError, setPhotoError] = useState('');
            const [submittedData, setSubmittedData] = useState([]);
            const [isSubmitting, setIsSubmitting] = useState(false);
            const [submitMessage, setSubmitMessage] = useState({ type: '', text: '' });
            const fileInputRef = useRef(null);

            const handleInputChange = (field, value) => {
                setFormData(prev => ({ ...prev, [field]: value }));
            };

            const handlePhotoUpload = (e) => {
                const file = e.target.files[0];
                if (file) {
                    const fileSizeKB = file.size / 1024;
                    
                    if (fileSizeKB > 500) {
                        setPhotoError(`File size: ${fileSizeKB.toFixed(1)}KB (Max: 500KB)`);
                        setPhotoPreview(null);
                        setFormData(prev => ({ ...prev, photo: null }));
                        return;
                    }

                    setPhotoError('');
                    const reader = new FileReader();
                    reader.onloadend = () => {
                        setPhotoPreview(reader.result);
                        setFormData(prev => ({ ...prev, photo: reader.result }));
                    };
                    reader.readAsDataURL(file);
                }
            };

            const handleAddEquipment = () => {
                if (newEquipment.trim()) {
                    setEquipmentList(prev => [...prev, newEquipment.trim()]);
                    setNewEquipment('');
                }
            };

            const startEditEquipment = (index) => {
                setEditingIndex(index);
                setEditingValue(equipmentList[index]);
            };

            const saveEditEquipment = () => {
                if (editingValue.trim()) {
                    const newList = [...equipmentList];
                    newList[editingIndex] = editingValue.trim();
                    setEquipmentList(newList);
                    setEditingIndex(null);
                    setEditingValue('');
                }
            };

            const deleteEquipment = (index) => {
                setEquipmentList(prev => prev.filter((_, i) => i !== index));
            };

            const handleSubmit = async (e) => {
                e.preventDefault();
                
                if (!formData.store || !formData.equipment || !formData.equipmentCode || !formData.equipmentSize || !formData.quantity) {
                    setSubmitMessage({ type: 'error', text: 'Please fill in all required fields' });
                    return;
                }

                if (GOOGLE_SCRIPT_URL === 'YOUR_GOOGLE_APPS_SCRIPT_URL_HERE') {
                    setSubmitMessage({ 
                        type: 'error', 
                        text: '‚ö†Ô∏è Please configure Google Apps Script URL first!' 
                    });
                    return;
                }

                setIsSubmitting(true);
                setSubmitMessage({ type: '', text: '' });

                try {
                    const response = await fetch(GOOGLE_SCRIPT_URL, {
                        method: 'POST',
                        mode: 'no-cors',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            store: formData.store,
                            date: formData.date,
                            equipment: formData.equipment,
                            equipmentCode: formData.equipmentCode,
                            equipmentSize: formData.equipmentSize,
                            quantity: formData.quantity,
                            photo: formData.photo,
                            notes: formData.notes
                        })
                    });

                    const submissionData = {
                        ...formData,
                        id: Date.now(),
                        submittedAt: new Date().toLocaleString()
                    };

                    setSubmittedData(prev => [...prev, submissionData]);

                    setSubmitMessage({ 
                        type: 'success', 
                        text: '‚úÖ Data uploaded to Google Drive successfully!' 
                    });

                    setFormData({
                        store: '',
                        date: new Date().toISOString().split('T')[0],
                        equipment: '',
                        equipmentCode: '',
                        equipmentSize: '',
                        quantity: '',
                        photo: null,
                        notes: ''
                    });
                    setPhotoPreview(null);
                    setPhotoError('');

                } catch (error) {
                    console.error('Error:', error);
                    setSubmitMessage({ 
                        type: 'error', 
                        text: '‚ùå Error uploading data: ' + error.message 
                    });
                } finally {
                    setIsSubmitting(false);
                }
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-4 pb-20">
                    <div className="max-w-md mx-auto">
                        <div className="bg-white rounded-2xl shadow-lg p-6 mb-6">
                            <div className="flex items-center justify-center gap-2 mb-2">
                                <Cloud size={28} className="text-blue-600" />
                                <h1 className="text-2xl font-bold text-slate-800">
                                    Equipment List
                                </h1>
                            </div>
                            <p className="text-slate-500 text-center text-sm">
                                Auto-save to Google Drive
                            </p>
                        </div>

                        {submitMessage.text && (
                            <div className={`mb-4 p-4 rounded-xl ${
                                submitMessage.type === 'success' 
                                    ? 'bg-green-50 text-green-700 border-2 border-green-200' 
                                    : 'bg-red-50 text-red-700 border-2 border-red-200'
                            }`}>
                                <div className="flex items-center gap-2">
                                    {submitMessage.type === 'success' ? (
                                        <Check size={20} />
                                    ) : (
                                        <AlertCircle size={20} />
                                    )}
                                    <span className="text-sm font-medium">{submitMessage.text}</span>
                                </div>
                            </div>
                        )}

                        <form onSubmit={handleSubmit} className="bg-white rounded-2xl shadow-lg p-6 space-y-5">
                            
                            {/* Store */}
                            <div>
                                <label className="block text-sm font-semibold text-slate-700 mb-2">
                                    Store <span className="text-red-500">*</span>
                                </label>
                                <input
                                    type="text"
                                    value={formData.store}
                                    onChange={(e) => handleInputChange('store', e.target.value)}
                                    placeholder="Enter store name"
                                    className="w-full px-4 py-3 border-2 border-slate-200 rounded-xl focus:border-blue-500 focus:outline-none transition-colors"
                                    required
                                    disabled={isSubmitting}
                                />
                            </div>

                            {/* Date */}
                            <div>
                                <label className="block text-sm font-semibold text-slate-700 mb-2">
                                    Date <span className="text-red-500">*</span>
                                </label>
                                <input
                                    type="date"
                                    value={formData.date}
                                    onChange={(e) => handleInputChange('date', e.target.value)}
                                    className="w-full px-4 py-3 border-2 border-slate-200 rounded-xl focus:border-blue-500 focus:outline-none transition-colors"
                                    required
                                    disabled={isSubmitting}
                                />
                            </div>

                            {/* Equipment Name */}
                            <div>
                                <div className="flex justify-between items-center mb-2">
                                    <label className="block text-sm font-semibold text-slate-700">
                                        Equipment Name <span className="text-red-500">*</span>
                                    </label>
                                    <button
                                        type="button"
                                        onClick={() => setShowManageEquipment(!showManageEquipment)}
                                        className="text-blue-600 text-xs font-medium flex items-center gap-1 hover:text-blue-700"
                                        disabled={isSubmitting}
                                    >
                                        <Edit2 size={14} />
                                        Manage List
                                    </button>
                                </div>
                                <select
                                    value={formData.equipment}
                                    onChange={(e) => handleInputChange('equipment', e.target.value)}
                                    className="w-full px-4 py-3 border-2 border-slate-200 rounded-xl focus:border-blue-500 focus:outline-none transition-colors appearance-none bg-white"
                                    required
                                    disabled={isSubmitting}
                                >
                                    <option value="">Select equipment</option>
                                    {equipmentList.map((item, index) => (
                                        <option key={index} value={item}>{item}</option>
                                    ))}
                                </select>
                            </div>

                            {showManageEquipment && (
                                <div className="bg-slate-50 rounded-xl p-4 border-2 border-slate-200">
                                    <div className="flex justify-between items-center mb-3">
                                        <h3 className="font-semibold text-slate-700 text-sm">Manage Equipment List</h3>
                                        <button
                                            type="button"
                                            onClick={() => setShowManageEquipment(false)}
                                            className="text-slate-400 hover:text-slate-600"
                                        >
                                            <X size={20} />
                                        </button>
                                    </div>

                                    <div className="flex gap-2 mb-4">
                                        <input
                                            type="text"
                                            value={newEquipment}
                                            onChange={(e) => setNewEquipment(e.target.value)}
                                            placeholder="Add new equipment"
                                            className="flex-1 px-3 py-2 border border-slate-300 rounded-lg text-sm focus:border-blue-500 focus:outline-none"
                                        />
                                        <button
                                            type="button"
                                            onClick={handleAddEquipment}
                                            className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors"
                                        >
                                            <Plus size={18} />
                                        </button>
                                    </div>

                                    <div className="max-h-64 overflow-y-auto space-y-2">
                                        {equipmentList.map((item, index) => (
                                            <div key={index} className="bg-white rounded-lg p-3 flex items-center gap-2">
                                                {editingIndex === index ? (
                                                    <>
                                                        <input
                                                            type="text"
                                                            value={editingValue}
                                                            onChange={(e) => setEditingValue(e.target.value)}
                                                            className="flex-1 px-2 py-1 border border-blue-300 rounded text-sm focus:outline-none"
                                                            autoFocus
                                                        />
                                                        <button
                                                            type="button"
                                                            onClick={saveEditEquipment}
                                                            className="text-green-600 hover:text-green-700"
                                                        >
                                                            <Check size={18} />
                                                        </button>
                                                        <button
                                                            type="button"
                                                            onClick={() => setEditingIndex(null)}
                                                            className="text-slate-400 hover:text-slate-600"
                                                        >
                                                            <X size={18} />
                                                        </button>
                                                    </>
                                                ) : (
                                                    <>
                                                        <span className="flex-1 text-sm text-slate-700">{item}</span>
                                                        <button
                                                            type="button"
                                                            onClick={() => startEditEquipment(index)}
                                                            className="text-blue-600 hover:text-blue-700"
                                                        >
                                                            <Edit2 size={16} />
                                                        </button>
                                                        <button
                                                            type="button"
                                                            onClick={() => deleteEquipment(index)}
                                                            className="text-red-600 hover:text-red-700"
                                                        >
                                                            <Trash2 size={16} />
                                                        </button>
                                                    </>
                                                )}
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            )}

                            {/* Equipment Code */}
                            <div>
                                <label className="block text-sm font-semibold text-slate-700 mb-2">
                                    Equipment Code <span className="text-red-500">*</span>
                                </label>
                                <input
                                    type="text"
                                    value={formData.equipmentCode}
                                    onChange={(e) => handleInputChange('equipmentCode', e.target.value)}
                                    placeholder="Enter equipment code"
                                    className="w-full px-4 py-3 border-2 border-slate-200 rounded-xl focus:border-blue-500 focus:outline-none transition-colors"
                                    required
                                    disabled={isSubmitting}
                                />
                            </div>

                            {/* Equipment Size */}
                            <div>
                                <label className="block text-sm font-semibold text-slate-700 mb-2">
                                    Equipment Size <span className="text-red-500">*</span>
                                </label>
                                <input
                                    type="text"
                                    value={formData.equipmentSize}
                                    onChange={(e) => handleInputChange('equipmentSize', e.target.value)}
                                    placeholder="Enter equipment size"
                                    className="w-full px-4 py-3 border-2 border-slate-200 rounded-xl focus:border-blue-500 focus:outline-none transition-colors"
                                    required
                                    disabled={isSubmitting}
                                />
                            </div>

                            {/* Quantity */}
                            <div>
                                <label className="block text-sm font-semibold text-slate-700 mb-2">
                                    Quantity <span className="text-red-500">*</span>
                                </label>
                                <input
                                    type="number"
                                    value={formData.quantity}
                                    onChange={(e) => handleInputChange('quantity', e.target.value)}
                                    placeholder="Enter quantity"
                                    min="1"
                                    className="w-full px-4 py-3 border-2 border-slate-200 rounded-xl focus:border-blue-500 focus:outline-none transition-colors"
                                    required
                                    disabled={isSubmitting}
                                />
                            </div>

                            {/* Photo Upload */}
                            <div>
                                <label className="block text-sm font-semibold text-slate-700 mb-2">
                                    Photo Upload <span className="text-slate-400 text-xs">(Max 500KB)</span>
                                </label>
                                <input
                                    type="file"
                                    ref={fileInputRef}
                                    onChange={handlePhotoUpload}
                                    accept="image/*"
                                    capture="environment"
                                    className="hidden"
                                    disabled={isSubmitting}
                                />
                                
                                {photoPreview ? (
                                    <div className="relative">
                                        <img
                                            src={photoPreview}
                                            alt="Preview"
                                            className="w-full h-48 object-cover rounded-xl border-2 border-slate-200"
                                        />
                                        <button
                                            type="button"
                                            onClick={() => {
                                                setPhotoPreview(null);
                                                setFormData(prev => ({ ...prev, photo: null }));
                                                fileInputRef.current.value = '';
                                            }}
                                            className="absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition-colors shadow-lg"
                                            disabled={isSubmitting}
                                        >
                                            <Trash2 size={16} />
                                        </button>
                                    </div>
                                ) : (
                                    <div className="space-y-2">
                                        <button
                                            type="button"
                                            onClick={() => {
                                                fileInputRef.current.setAttribute('capture', 'environment');
                                                fileInputRef.current.click();
                                            }}
                                            className="w-full h-24 border-2 border-dashed border-blue-300 rounded-xl flex flex-col items-center justify-center gap-2 hover:border-blue-500 hover:bg-blue-50 transition-colors active:bg-blue-100"
                                            disabled={isSubmitting}
                                        >
                                            <Camera size={28} className="text-blue-600" />
                                            <span className="text-sm text-blue-600 font-medium">Take Photo</span>
                                        </button>
                                        <button
                                            type="button"
                                            onClick={() => {
                                                fileInputRef.current.removeAttribute('capture');
                                                fileInputRef.current.click();
                                            }}
                                            className="w-full h-24 border-2 border-dashed border-slate-300 rounded-xl flex flex-col items-center justify-center gap-2 hover:border-slate-500 hover:bg-slate-50 transition-colors active:bg-slate-100"
                                            disabled={isSubmitting}
                                        >
                                            <Image size={28} className="text-slate-600" />
                                            <span className="text-sm text-slate-600 font-medium">Choose from Gallery</span>
                                        </button>
                                    </div>
                                )}
                                
                                {photoError && (
                                    <p className="text-red-500 text-xs mt-2">{photoError}</p>
                                )}
                            </div>

                            {/* Notes */}
                            <div>
                                <label className="block text-sm font-semibold text-slate-700 mb-2">
                                    Notes <span className="text-slate-400 text-xs">(Max 200 characters)</span>
                                </label>
                                <textarea
                                    value={formData.notes}
                                    onChange={(e) => {
                                        if (e.target.value.length <= 200) {
                                            handleInputChange('notes', e.target.value);
                                        }
                                    }}
                                    placeholder="Enter notes"
                                    rows="4"
                                    className="w-full px-4 py-3 border-2 border-slate-200 rounded-xl focus:border-blue-500 focus:outline-none transition-colors resize-none"
                                    disabled={isSubmitting}
                                />
                                <div className="text-right text-xs text-slate-400 mt-1">
                                    {formData.notes.length}/200
                                </div>
                            </div>

                            {/* Submit Button */}
                            <button
                                type="submit"
                                disabled={isSubmitting}
                                className="w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white py-4 rounded-xl font-semibold hover:from-blue-700 hover:to-blue-800 transition-all shadow-lg hover:shadow-xl active:scale-98 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"
                            >
                                {isSubmitting ? (
                                    <>
                                        <div className="spinner"></div>
                                        <span>Uploading to Google Drive...</span>
                                    </>
                                ) : (
                                    <>
                                        <Cloud size={20} />
                                        <span>Submit</span>
                                    </>
                                )}
                            </button>
                        </form>

                        {submittedData.length > 0 && (
                            <div className="mt-6 bg-white rounded-2xl shadow-lg p-6">
                                <h2 className="text-lg font-bold text-slate-800 mb-4">Recent Submissions</h2>
                                <div className="space-y-3">
                                    {submittedData.slice(-3).reverse().map((data) => (
                                        <div key={data.id} className="bg-slate-50 rounded-lg p-4 text-sm">
                                            <div className="font-semibold text-slate-700">{data.store}</div>
                                            <div className="text-slate-600">{data.equipment}</div>
                                            <div className="text-slate-500 text-xs mt-1">
                                                Code: {data.equipmentCode} ‚Ä¢ Size: {data.equipmentSize} ‚Ä¢ Qty: {data.quantity}
                                            </div>
                                            <div className="text-slate-400 text-xs mt-1">{data.submittedAt}</div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<EquipmentList />);
    </script>
</body>
</html>
